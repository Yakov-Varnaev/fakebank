import{m as At,c as Ye,d as xt,e as ze,f as Ge,g as It,h as Pt,i as Ze,b as Je,j as Se,a as et,u as Ft,_ as Tt,V as Dt}from"./VList.Dgr2ksud.js";import{l as tt,b as Le,a as Me,c as lt,u as Ee}from"./index.CJeuY9gg.js";import{W as X,X as Ae,ac as Bt,Y as Mt,Z as re,$ as ae,ad as Oe,c as k,ae as nt,af as $e,a5 as Ut,a7 as Q,z as r,a4 as H,r as G,ag as Rt,M,O as Lt,N as Et,P as oe,ah as at,ai as fe,aj as ge,a9 as ye,ak as xe,al as Ot,H as W,am as Qe,an as $t,ao as We,a3 as Kt,F as Ue,ap as Te,aq as qt,ar as Ke,as as Ht,at as Nt,o as jt,au as _e,a0 as ot,av as ut,B as Ie,S as he,aw as zt,ax as Gt,_ as be,t as we,L as Pe,ay as rt,A as z,v as Qt,U as Wt,ab as Xt}from"./entry.9zux7mMk.js";import{i as Yt,j as qe,k as st,l as it,c as pe,n as ct,f as Re,u as Zt,r as De,m as Jt,V as el,a as tl,b as ll,d as nl,e as dt}from"./VTextField.E2T61vRU.js";import{b as al,R as ol,a as Ve,g as ul,h as ft,i as rl,j as He,u as vt,k as sl,l as il,n as mt,V as cl}from"./index.CcSNAF8Z.js";import{m as Fe,u as se}from"./VGrid.B_CvW7IJ.js";import{V as ht}from"./VRow.DlSItuy6.js";import{V as dl}from"./VContainer.B1KAAPUP.js";const gt=Symbol.for("vuetify:selection-control-group"),yt=X({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ae,trueIcon:Ae,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Bt},...Fe(),...al(),...Mt()},"SelectionControlGroup"),fl=X({...yt({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");re()({name:"VSelectionControlGroup",props:fl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=ae(e,"modelValue"),a=Oe(),i=k(()=>e.id||`v-selection-control-group-${a}`),f=k(()=>e.name||i.value),u=new Set;return nt(gt,{modelValue:n,forceUpdate:()=>{u.forEach(o=>o())},onForceUpdate:o=>{u.add(o),$e(()=>{u.delete(o)})}}),Ut({[e.defaultsTarget]:{color:Q(e,"color"),disabled:Q(e,"disabled"),density:Q(e,"density"),error:Q(e,"error"),inline:Q(e,"inline"),modelValue:n,multiple:k(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:f,falseIcon:Q(e,"falseIcon"),trueIcon:Q(e,"trueIcon"),readonly:Q(e,"readonly"),ripple:Q(e,"ripple"),type:Q(e,"type"),valueComparator:Q(e,"valueComparator")}}),se(()=>{var o;return r("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(o=t.default)==null?void 0:o.call(t)])}),{}}});const pt=X({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Fe(),...yt()},"VSelectionControl");function vl(e){const l=at(gt,void 0),{densityClasses:t}=ul(e),n=ae(e,"modelValue"),a=k(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=k(()=>e.falseValue!==void 0?e.falseValue:!1),f=k(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),u=k({get(){const p=l?l.modelValue.value:n.value;return f.value?fe(p).some(C=>e.valueComparator(C,a.value)):e.valueComparator(p,a.value)},set(p){if(e.readonly)return;const C=p?a.value:i.value;let m=C;f.value&&(m=p?[...fe(n.value),C]:fe(n.value).filter(g=>!e.valueComparator(g,a.value))),l?l.modelValue.value=m:n.value=m}}),{textColorClasses:o,textColorStyles:v}=ft(k(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor})),{backgroundColorClasses:F,backgroundColorStyles:y}=rl(k(()=>u.value&&!e.error&&!e.disabled?e.color:void 0)),c=k(()=>u.value?e.trueIcon:e.falseIcon);return{group:l,densityClasses:t,trueValue:a,falseValue:i,model:u,textColorClasses:o,textColorStyles:v,backgroundColorClasses:F,backgroundColorStyles:y,icon:c}}const Xe=re()({name:"VSelectionControl",directives:{Ripple:ol},inheritAttrs:!1,props:pt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:n}=l;const{group:a,densityClasses:i,icon:f,model:u,textColorClasses:o,textColorStyles:v,backgroundColorClasses:F,backgroundColorStyles:y,trueValue:c}=vl(e),p=Oe(),C=H(!1),m=H(!1),g=G(),V=k(()=>e.id||`input-${p}`),A=k(()=>!e.disabled&&!e.readonly);a==null||a.onForceUpdate(()=>{g.value&&(g.value.checked=u.value)});function U(x){A.value&&(C.value=!0,ge(x.target,":focus-visible")!==!1&&(m.value=!0))}function w(){C.value=!1,m.value=!1}function S(x){x.stopPropagation()}function ie(x){A.value&&(e.readonly&&a&&ye(()=>a.forceUpdate()),u.value=x.target.checked)}return se(()=>{var te,Y;const x=n.label?n.label({label:e.label,props:{for:V.value}}):e.label,[J,ee]=Rt(t),T=r("input",M({ref:g,checked:u.value,disabled:!!e.disabled,id:V.value,onBlur:w,onFocus:U,onInput:ie,"aria-disabled":!!e.disabled,type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},ee),null);return r("div",M({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":C.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":e.inline},i.value,e.class]},J,{style:e.style}),[r("div",{class:["v-selection-control__wrapper",o.value],style:v.value},[(te=n.default)==null?void 0:te.call(n,{backgroundColorClasses:F,backgroundColorStyles:y}),Lt(r("div",{class:["v-selection-control__input"]},[((Y=n.input)==null?void 0:Y.call(n,{model:u,textColorClasses:o,textColorStyles:v,backgroundColorClasses:F,backgroundColorStyles:y,inputNode:T,icon:f.value,props:{onFocus:U,onBlur:w,id:V.value}}))??r(oe,null,[f.value&&r(Ve,{key:"icon",icon:f.value},null),T])]),[[Et("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&r(Yt,{for:V.value,onClick:S},{default:()=>[x]})])}),{isFocused:C,input:g}}}),ml=X({indeterminate:Boolean,indeterminateIcon:{type:Ae,default:"$checkboxIndeterminate"},...pt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Vt=re()({name:"VCheckboxBtn",props:ml(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const n=ae(e,"indeterminate"),a=ae(e,"modelValue");function i(o){n.value&&(n.value=!1)}const f=k(()=>n.value?e.indeterminateIcon:e.falseIcon),u=k(()=>n.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const o=xe(Xe.filterProps(e),["modelValue"]);return r(Xe,M(o,{modelValue:a.value,"onUpdate:modelValue":[v=>a.value=v,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:f.value,trueIcon:u.value,"aria-checked":n.value?"mixed":void 0}),t)}),{}}}),hl=X({id:String,...xe(At({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ye}}),["absolute"])},"VMenu"),bt=re()({name:"VMenu",props:hl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=ae(e,"modelValue"),{scopeId:a}=xt(),i=Oe(),f=k(()=>e.id||`v-menu-${i}`),u=G(),o=at(ze,null),v=H(0);nt(ze,{register(){++v.value},unregister(){--v.value},closeParents(m){setTimeout(()=>{!v.value&&(m==null||m&&!Ot(m,u.value.contentEl))&&(n.value=!1,o==null||o.closeParents())},40)}});async function F(m){var A,U,w;const g=m.relatedTarget,V=m.target;await ye(),n.value&&g!==V&&((A=u.value)!=null&&A.contentEl)&&((U=u.value)!=null&&U.globalTop)&&![document,u.value.contentEl].includes(V)&&!u.value.contentEl.contains(V)&&((w=Qe(u.value.contentEl)[0])==null||w.focus())}W(n,m=>{m?(o==null||o.register(),document.addEventListener("focusin",F,{once:!0})):(o==null||o.unregister(),document.removeEventListener("focusin",F))});function y(m){o==null||o.closeParents(m)}function c(m){var g,V,A;e.disabled||m.key==="Tab"&&($t(Qe((g=u.value)==null?void 0:g.contentEl,!1),m.shiftKey?"prev":"next",w=>w.tabIndex>=0)||(n.value=!1,(A=(V=u.value)==null?void 0:V.activatorEl)==null||A.focus()))}function p(m){var V;if(e.disabled)return;const g=(V=u.value)==null?void 0:V.contentEl;g&&n.value?m.key==="ArrowDown"?(m.preventDefault(),We(g,"next")):m.key==="ArrowUp"&&(m.preventDefault(),We(g,"prev")):["ArrowDown","ArrowUp"].includes(m.key)&&(n.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>p(m))))}const C=k(()=>M({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":f.value,onKeydown:p},e.activatorProps));return se(()=>{const m=Ge.filterProps(e);return r(Ge,M({ref:u,id:f.value,class:["v-menu",e.class],style:e.style},m,{modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,absolute:!0,activatorProps:C.value,"onClick:outside":y,onKeydown:c},a),{activator:t.activator,default:function(){for(var g=arguments.length,V=new Array(g),A=0;A<g;A++)V[A]=arguments[A];return r(He,{root:"VMenu"},{default:()=>{var U;return[(U=t.default)==null?void 0:U.call(t,...V)]}})}})}),qe({id:f,Î¨openChildren:v},u)}}),gl=X({renderless:Boolean,...Fe()},"VVirtualScrollItem"),yl=re()({name:"VVirtualScrollItem",inheritAttrs:!1,props:gl(),emits:{"update:height":e=>!0},setup(e,l){let{attrs:t,emit:n,slots:a}=l;const{resizeRef:i,contentRect:f}=vt(void 0,"border");W(()=>{var u;return(u=f.value)==null?void 0:u.height},u=>{u!=null&&n("update:height",u)}),se(()=>{var u,o;return e.renderless?r(oe,null,[(u=a.default)==null?void 0:u.call(a,{itemRef:i})]):r("div",M({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(o=a.default)==null?void 0:o.call(a)])})}}),pl=-1,Vl=1,Be=100,bl=X({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function wl(e,l){const t=Kt(),n=H(0);Ue(()=>{n.value=parseFloat(e.itemHeight||0)});const a=H(0),i=H(Math.ceil((parseInt(e.height)||t.height.value)/(n.value||16))||1),f=H(0),u=H(0),o=G(),v=G();let F=0;const{resizeRef:y,contentRect:c}=vt();Ue(()=>{y.value=o.value});const p=k(()=>{var d;return o.value===document.documentElement?t.height.value:((d=c.value)==null?void 0:d.height)||parseInt(e.height)||0}),C=k(()=>!!(o.value&&v.value&&p.value&&n.value));let m=Array.from({length:l.value.length}),g=Array.from({length:l.value.length});const V=H(0);let A=-1;function U(d){return m[d]||n.value}const w=qt(()=>{const d=performance.now();g[0]=0;const _=l.value.length;for(let D=1;D<=_-1;D++)g[D]=(g[D-1]||0)+U(D-1);V.value=Math.max(V.value,performance.now()-d)},V),S=W(C,d=>{d&&(S(),F=v.value.offsetTop,w.immediate(),ne(),~A&&ye(()=>{Ke&&window.requestAnimationFrame(()=>{ve(A),A=-1})}))});$e(()=>{w.clear()});function ie(d,_){const D=m[d],K=n.value;n.value=K?Math.min(n.value,_):_,(D!==_||K!==n.value)&&(m[d]=_,w())}function x(d){return d=Te(d,0,l.value.length-1),g[d]||0}function J(d){return Cl(g,d)}let ee=0,T=0,te=0;W(p,(d,_)=>{_&&(ne(),d<_&&requestAnimationFrame(()=>{T=0,ne()}))});function Y(){if(!o.value||!v.value)return;const d=o.value.scrollTop,_=performance.now();_-te>500?(T=Math.sign(d-ee),F=v.value.offsetTop):T=d-ee,ee=d,te=_,ne()}function le(){!o.value||!v.value||(T=0,te=0,ne())}let ue=-1;function ne(){cancelAnimationFrame(ue),ue=requestAnimationFrame(me)}function me(){if(!o.value||!p.value)return;const d=ee-F,_=Math.sign(T),D=Math.max(0,d-Be),K=Te(J(D),0,l.value.length),I=d+p.value+Be,R=Te(J(I)+1,K+1,l.value.length);if((_!==pl||K<a.value)&&(_!==Vl||R>i.value)){const L=x(a.value)-x(K),$=x(R)-x(i.value);Math.max(L,$)>Be?(a.value=K,i.value=R):(K<=0&&(a.value=K),R>=l.value.length&&(i.value=R))}f.value=x(a.value),u.value=x(l.value.length)-x(i.value)}function ve(d){const _=x(d);!o.value||d&&!_?A=d:o.value.scrollTop=_}const h=k(()=>l.value.slice(a.value,i.value).map((d,_)=>({raw:d,index:_+a.value})));return W(l,()=>{m=Array.from({length:l.value.length}),g=Array.from({length:l.value.length}),w.immediate(),ne()},{deep:!0}),{containerRef:o,markerRef:v,computedItems:h,paddingTop:f,paddingBottom:u,scrollToIndex:ve,handleScroll:Y,handleScrollend:le,handleItemResize:ie}}function Cl(e,l){let t=e.length-1,n=0,a=0,i=null,f=-1;if(e[t]<l)return t;for(;n<=t;)if(a=n+t>>1,i=e[a],i>l)t=a-1;else if(i<l)f=a,n=a+1;else return i===l?a:n;return f}const kl=X({items:{type:Array,default:()=>[]},renderless:Boolean,...bl(),...Fe(),...sl()},"VVirtualScroll"),wt=re()({name:"VVirtualScroll",props:kl(),setup(e,l){let{slots:t}=l;const n=Ht("VVirtualScroll"),{dimensionStyles:a}=il(e),{containerRef:i,markerRef:f,handleScroll:u,handleScrollend:o,handleItemResize:v,scrollToIndex:F,paddingTop:y,paddingBottom:c,computedItems:p}=wl(e,Q(e,"items"));return Nt(()=>e.renderless,()=>{function C(){var V,A;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[g]("scroll",u,{passive:!0}),document[g]("scrollend",o)):((V=i.value)==null||V[g]("scroll",u,{passive:!0}),(A=i.value)==null||A[g]("scrollend",o))}jt(()=>{i.value=It(n.vnode.el,!0),C(!0)}),$e(C)}),se(()=>{const C=p.value.map(m=>r(yl,{key:m.index,renderless:e.renderless,"onUpdate:height":g=>v(m.index,g)},{default:g=>{var V;return(V=t.default)==null?void 0:V.call(t,{item:m.raw,index:m.index,...g})}}));return e.renderless?r(oe,null,[r("div",{ref:f,class:"v-virtual-scroll__spacer",style:{paddingTop:_e(y.value)}},null),C,r("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:_e(c.value)}},null)]):r("div",{ref:i,class:["v-virtual-scroll",e.class],onScrollPassive:u,onScrollend:o,style:[a.value,e.style]},[r("div",{ref:f,class:"v-virtual-scroll__container",style:{paddingTop:_e(y.value),paddingBottom:_e(c.value)}},[C])])}),{scrollToIndex:F}}});function Ct(e,l){const t=H(!1);let n;function a(u){cancelAnimationFrame(n),t.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t.value=!1})})}async function i(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(t.value){const o=W(t,()=>{o(),u()})}else u()})}async function f(u){var F,y;if(u.key==="Tab"&&((F=l.value)==null||F.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const o=(y=e.value)==null?void 0:y.$el;if(!o)return;(u.key==="Home"||u.key==="End")&&o.scrollTo({top:u.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await i();const v=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const c=o.getBoundingClientRect().top;for(const p of v)if(p.getBoundingClientRect().top>=c){p.focus();break}}else{const c=o.getBoundingClientRect().bottom;for(const p of[...v].reverse())if(p.getBoundingClientRect().bottom<=c){p.focus();break}}}return{onListScroll:a,onListKeydown:f}}const kt=X({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ae,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Pt({itemChildren:!1})},"Select"),_l=X({...kt(),...xe(st({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...mt({transition:{component:Ye}})},"VSelect");re()({name:"VSelect",props:_l(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:n}=ot(),a=G(),i=G(),f=G(),u=ae(e,"menu"),o=k({get:()=>u.value,set:h=>{var d;u.value&&!h&&((d=i.value)!=null&&d.Î¨openChildren)||(u.value=h)}}),{items:v,transformIn:F,transformOut:y}=Ze(e),c=ae(e,"modelValue",[],h=>F(h===null?[null]:fe(h)),h=>{const d=y(h);return e.multiple?d:d[0]??null}),p=k(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),C=it(),m=k(()=>c.value.map(h=>h.value)),g=H(!1),V=k(()=>o.value?e.closeText:e.openText);let A="",U;const w=k(()=>e.hideSelected?v.value.filter(h=>!c.value.some(d=>d===h)):v.value),S=k(()=>e.hideNoData&&!w.value.length||e.readonly||(C==null?void 0:C.isReadonly.value)),ie=k(()=>{var h;return{...e.menuProps,activatorProps:{...((h=e.menuProps)==null?void 0:h.activatorProps)||{},"aria-haspopup":"listbox"}}}),x=G(),{onListScroll:J,onListKeydown:ee}=Ct(x,a);function T(h){e.openOnClear&&(o.value=!0)}function te(){S.value||(o.value=!o.value)}function Y(h){var I,R;if(!h.key||e.readonly||C!=null&&C.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(h.key)&&h.preventDefault(),["Enter","ArrowDown"," "].includes(h.key)&&(o.value=!0),["Escape","Tab"].includes(h.key)&&(o.value=!1),h.key==="Home"?(I=x.value)==null||I.focus("first"):h.key==="End"&&((R=x.value)==null||R.focus("last"));const d=1e3;function _(L){const $=L.key.length===1,B=!L.ctrlKey&&!L.metaKey&&!L.altKey;return $&&B}if(e.multiple||!_(h))return;const D=performance.now();D-U>d&&(A=""),A+=h.key.toLowerCase(),U=D;const K=v.value.find(L=>L.title.toLowerCase().startsWith(A));K!==void 0&&(c.value=[K])}function le(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const _=c.value.findIndex(D=>e.valueComparator(D.value,h.value));if(d=_===-1,d)c.value=[...c.value,h];else{const D=[...c.value];D.splice(_,1),c.value=D}}else c.value=d?[h]:[],o.value=!1}function ue(h){var d;(d=x.value)!=null&&d.$el.contains(h.relatedTarget)||(o.value=!1)}function ne(){var h;g.value&&((h=a.value)==null||h.focus())}function me(h){g.value=!0}function ve(h){if(h==null)c.value=[];else if(ge(a.value,":autofill")||ge(a.value,":-webkit-autofill")){const d=v.value.find(_=>_.title===h);d&&le(d)}else a.value&&(a.value.value="")}return W(o,()=>{if(!e.hideSelected&&o.value&&c.value.length){const h=w.value.findIndex(d=>c.value.some(_=>e.valueComparator(_.value,d.value)));Ke&&window.requestAnimationFrame(()=>{var d;h>=0&&((d=f.value)==null||d.scrollToIndex(h))})}}),W(w,(h,d)=>{g.value&&(!h.length&&e.hideNoData&&(o.value=!1),!d.length&&h.length&&(o.value=!0))}),se(()=>{const h=!!(e.chips||t.chip),d=!!(!e.hideNoData||w.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),_=c.value.length>0,D=pe.filterProps(e),K=_||!g.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return r(pe,M({ref:a},D,{modelValue:c.value.map(I=>I.props.value).join(", "),"onUpdate:modelValue":ve,focused:g.value,"onUpdate:focused":I=>g.value=I,validationValue:c.externalValue,counterValue:p.value,dirty:_,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:K,"onClick:clear":T,"onMousedown:control":te,onBlur:ue,onKeydown:Y,"aria-label":n(V.value),title:n(V.value)}),{...t,default:()=>r(oe,null,[r(bt,M({ref:i,modelValue:o.value,"onUpdate:modelValue":I=>o.value=I,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ne},ie.value),{default:()=>[d&&r(Je,M({ref:x,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:I=>I.preventDefault(),onKeydown:ee,onFocusin:me,onScrollPassive:J,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var I,R,L;return[(I=t["prepend-item"])==null?void 0:I.call(t),!w.value.length&&!e.hideNoData&&(((R=t["no-data"])==null?void 0:R.call(t))??r(Se,{title:n(e.noDataText)},null)),r(wt,{ref:f,renderless:!0,items:w.value},{default:$=>{var N;let{item:B,index:s,itemRef:b}=$;const E=M(B.props,{ref:b,key:s,onClick:()=>le(B)});return((N=t.item)==null?void 0:N.call(t,{item:B,index:s,props:E}))??r(Se,M(E,{role:"option"}),{prepend:P=>{let{isSelected:q}=P;return r(oe,null,[e.multiple&&!e.hideSelected?r(Vt,{key:B.value,modelValue:q,ripple:!1,tabindex:"-1"},null):void 0,B.props.prependAvatar&&r(ct,{image:B.props.prependAvatar},null),B.props.prependIcon&&r(Ve,{icon:B.props.prependIcon},null)])}})}}),(L=t["append-item"])==null?void 0:L.call(t)]}})]}),c.value.map((I,R)=>{function L(b){b.stopPropagation(),b.preventDefault(),le(I,!1)}const $={"onClick:close":L,onMousedown(b){b.preventDefault(),b.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},B=h?!!t.chip:!!t.selection,s=B?ut(h?t.chip({item:I,index:R,props:$}):t.selection({item:I,index:R})):void 0;if(!(B&&!s))return r("div",{key:I.value,class:"v-select__selection"},[h?t.chip?r(He,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:I.title}}},{default:()=>[s]}):r(et,M({key:"chip",closable:e.closableChips,size:"small",text:I.title,disabled:I.props.disabled},$),null):s??r("span",{class:"v-select__selection-text"},[I.title,e.multiple&&R<c.value.length-1&&r("span",{class:"v-select__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var $;for(var I=arguments.length,R=new Array(I),L=0;L<I;L++)R[L]=arguments[L];return r(oe,null,[($=t["append-inner"])==null?void 0:$.call(t,...R),e.menuIcon?r(Ve,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),qe({isFocused:g,menu:o,select:le},a)}});const Sl=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Al=X({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xl(e,l,t){var u;const n=[],a=(t==null?void 0:t.default)??Sl,i=t!=null&&t.filterKeys?fe(t.filterKeys):!1,f=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;e:for(let o=0;o<e.length;o++){const[v,F=v]=fe(e[o]),y={},c={};let p=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof v=="object"){const g=i||Object.keys(F);for(const V of g){const A=zt(F,V),U=(u=t==null?void 0:t.customKeyFilter)==null?void 0:u[V];if(p=U?U(A,l,v):a(A,l,v),p!==-1&&p!==!1)U?y[V]=p:c[V]=p;else if((t==null?void 0:t.filterMode)==="every")continue e}}else p=a(v,l,v),p!==-1&&p!==!1&&(c.title=p);const C=Object.keys(c).length,m=Object.keys(y).length;if(!C&&!m||(t==null?void 0:t.filterMode)==="union"&&m!==f&&!C||(t==null?void 0:t.filterMode)==="intersection"&&(m!==f||!C))continue}n.push({index:o,matches:{...c,...y}})}return n}function Il(e,l,t,n){const a=G([]),i=G(new Map),f=k(()=>n!=null&&n.transform?he(l).map(o=>[o,n.transform(o)]):he(l));Ue(()=>{const o=typeof t=="function"?t():he(t),v=typeof o!="string"&&typeof o!="number"?"":String(o),F=xl(f.value,v,{customKeyFilter:{...e.customKeyFilter,...he(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),y=he(l),c=[],p=new Map;F.forEach(C=>{let{index:m,matches:g}=C;const V=y[m];c.push(V),p.set(V.value,g)}),a.value=c,i.value=p});function u(o){return i.value.get(o.value)}return{filteredItems:a,filteredMatches:i,getMatches:u}}function Pl(e,l,t){if(l==null)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return typeof l=="number"&&~l?r(oe,null,[r("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),r("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),r("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const Fl=X({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Al({filterKeys:["title"]}),...kt(),...xe(st({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...mt({transition:!1})},"VAutocomplete"),_t=re()({name:"VAutocomplete",props:Fl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:n}=ot(),a=G(),i=H(!1),f=H(!0),u=H(!1),o=G(),v=G(),F=ae(e,"menu"),y=k({get:()=>F.value,set:s=>{var b;F.value&&!s&&((b=o.value)!=null&&b.Î¨openChildren)||(F.value=s)}}),c=H(-1),p=k(()=>{var s;return(s=a.value)==null?void 0:s.color}),C=k(()=>y.value?e.closeText:e.openText),{items:m,transformIn:g,transformOut:V}=Ze(e),{textColorClasses:A,textColorStyles:U}=ft(p),w=ae(e,"search",""),S=ae(e,"modelValue",[],s=>g(s===null?[null]:fe(s)),s=>{const b=V(s);return e.multiple?b:b[0]??null}),ie=k(()=>typeof e.counterValue=="function"?e.counterValue(S.value):typeof e.counterValue=="number"?e.counterValue:S.value.length),x=it(),{filteredItems:J,getMatches:ee}=Il(e,m,()=>f.value?"":w.value),T=k(()=>e.hideSelected?J.value.filter(s=>!S.value.some(b=>b.value===s.value)):J.value),te=k(()=>S.value.map(s=>s.props.value)),Y=k(()=>{var b;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===((b=T.value[0])==null?void 0:b.title))&&T.value.length>0&&!f.value&&!u.value}),le=k(()=>e.hideNoData&&!T.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),ue=G(),{onListScroll:ne,onListKeydown:me}=Ct(ue,a);function ve(s){e.openOnClear&&(y.value=!0),w.value=""}function h(){le.value||(y.value=!0)}function d(s){le.value||(i.value&&(s.preventDefault(),s.stopPropagation()),y.value=!y.value)}function _(s){var N,P,q;if(e.readonly||x!=null&&x.isReadonly.value)return;const b=a.value.selectionStart,E=S.value.length;if((c.value>-1||["Enter","ArrowDown","ArrowUp"].includes(s.key))&&s.preventDefault(),["Enter","ArrowDown"].includes(s.key)&&(y.value=!0),["Escape"].includes(s.key)&&(y.value=!1),Y.value&&["Enter","Tab"].includes(s.key)&&B(T.value[0]),s.key==="ArrowDown"&&Y.value&&((N=ue.value)==null||N.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(s.key)){if(c.value<0){s.key==="Backspace"&&!w.value&&(c.value=E-1);return}const O=c.value,Z=S.value[c.value];Z&&!Z.props.disabled&&B(Z),c.value=O>=E-1?E-2:O}if(s.key==="ArrowLeft"){if(c.value<0&&b>0)return;const O=c.value>-1?c.value-1:E-1;S.value[O]?c.value=O:(c.value=-1,a.value.setSelectionRange((P=w.value)==null?void 0:P.length,(q=w.value)==null?void 0:q.length))}if(s.key==="ArrowRight"){if(c.value<0)return;const O=c.value+1;S.value[O]?c.value=O:(c.value=-1,a.value.setSelectionRange(0,0))}}}function D(s){if(ge(a.value,":autofill")||ge(a.value,":-webkit-autofill")){const b=m.value.find(E=>E.title===s.target.value);b&&B(b)}}function K(){var s;i.value&&(f.value=!0,(s=a.value)==null||s.focus())}function I(s){i.value=!0,setTimeout(()=>{u.value=!0})}function R(s){u.value=!1}function L(s){(s==null||s===""&&!e.multiple)&&(S.value=[])}const $=H(!1);function B(s){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!s.props.disabled)if(e.multiple){const E=S.value.findIndex(N=>e.valueComparator(N.value,s.value));if(b=E===-1,b)S.value=[...S.value,s];else{const N=[...S.value];N.splice(E,1),S.value=N}e.clearOnSelect&&(w.value="")}else S.value=b?[s]:[],$.value=!0,w.value=b?s.title:"",y.value=!1,f.value=!0,ye(()=>$.value=!1)}return W(i,(s,b)=>{var E;s!==b&&(s?($.value=!0,w.value=e.multiple?"":String(((E=S.value.at(-1))==null?void 0:E.props.title)??""),f.value=!0,ye(()=>$.value=!1)):(!e.multiple&&w.value==null?S.value=[]:Y.value&&!u.value&&!S.value.some(N=>{let{value:P}=N;return P===T.value[0].value})&&B(T.value[0]),y.value=!1,w.value="",c.value=-1))}),W(w,s=>{!i.value||$.value||(s&&(y.value=!0),f.value=!s)}),W(y,()=>{if(!e.hideSelected&&y.value&&S.value.length){const s=T.value.findIndex(b=>S.value.some(E=>b.value===E.value));Ke&&window.requestAnimationFrame(()=>{var b;s>=0&&((b=v.value)==null||b.scrollToIndex(s))})}}),W(T,(s,b)=>{i.value&&(!s.length&&e.hideNoData&&(y.value=!1),!b.length&&s.length&&(y.value=!0))}),se(()=>{const s=!!(e.chips||t.chip),b=!!(!e.hideNoData||T.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),E=S.value.length>0,N=pe.filterProps(e);return r(pe,M({ref:a},N,{modelValue:w.value,"onUpdate:modelValue":[P=>w.value=P,L],focused:i.value,"onUpdate:focused":P=>i.value=P,validationValue:S.externalValue,counterValue:ie.value,dirty:E,onChange:D,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":c.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:E?void 0:e.placeholder,"onClick:clear":ve,"onMousedown:control":h,onKeydown:_}),{...t,default:()=>r(oe,null,[r(bt,M({ref:o,modelValue:y.value,"onUpdate:modelValue":P=>y.value=P,activator:"parent",contentClass:"v-autocomplete__content",disabled:le.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:K},e.menuProps),{default:()=>[b&&r(Je,M({ref:ue,selected:te.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:P=>P.preventDefault(),onKeydown:me,onFocusin:I,onFocusout:R,onScrollPassive:ne,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var P,q,O;return[(P=t["prepend-item"])==null?void 0:P.call(t),!T.value.length&&!e.hideNoData&&(((q=t["no-data"])==null?void 0:q.call(t))??r(Se,{title:n(e.noDataText)},null)),r(wt,{ref:v,renderless:!0,items:T.value},{default:Z=>{var je;let{item:j,index:ce,itemRef:de}=Z;const Ne=M(j.props,{ref:de,key:ce,active:Y.value&&ce===0?!0:void 0,onClick:()=>B(j)});return((je=t.item)==null?void 0:je.call(t,{item:j,index:ce,props:Ne}))??r(Se,M(Ne,{role:"option"}),{prepend:Ce=>{let{isSelected:ke}=Ce;return r(oe,null,[e.multiple&&!e.hideSelected?r(Vt,{key:j.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,j.props.prependAvatar&&r(ct,{image:j.props.prependAvatar},null),j.props.prependIcon&&r(Ve,{icon:j.props.prependIcon},null)])},title:()=>{var Ce,ke;return f.value?j.title:Pl(j.title,(Ce=ee(j))==null?void 0:Ce.title,((ke=w.value)==null?void 0:ke.length)??0)}})}}),(O=t["append-item"])==null?void 0:O.call(t)]}})]}),S.value.map((P,q)=>{function O(de){de.stopPropagation(),de.preventDefault(),B(P,!1)}const Z={"onClick:close":O,onMousedown(de){de.preventDefault(),de.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},j=s?!!t.chip:!!t.selection,ce=j?ut(s?t.chip({item:P,index:q,props:Z}):t.selection({item:P,index:q})):void 0;if(!(j&&!ce))return r("div",{key:P.value,class:["v-autocomplete__selection",q===c.value&&["v-autocomplete__selection--selected",A.value]],style:q===c.value?U.value:{}},[s?t.chip?r(He,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:P.title}}},{default:()=>[ce]}):r(et,M({key:"chip",closable:e.closableChips,size:"small",text:P.title,disabled:P.props.disabled},Z),null):ce??r("span",{class:"v-autocomplete__selection-text"},[P.title,e.multiple&&q<S.value.length-1&&r("span",{class:"v-autocomplete__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var Z;for(var P=arguments.length,q=new Array(P),O=0;O<P;O++)q[O]=arguments[O];return r(oe,null,[(Z=t["append-inner"])==null?void 0:Z.call(t,...q),e.menuIcon?r(Ve,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:d,onClick:Gt,"aria-label":n(C.value),title:n(C.value)},null):void 0])}})}),qe({isFocused:i,isPristine:f,menu:y,search:w,filteredItems:J,select:B},a)}}),Tl={setup(){return{accounts:Ft()}},props:{user_id:{required:!1,type:String,default:null},label:{required:!1,type:String,default:"Account"},forbiddenAccounts:{type:Array,required:!1,default:()=>[]}},data(){return{query:"",options:[],selectedAccount:null}},methods:{async fetch(){this.options=await this.accounts.search(this.user_id,this.query)},filterAccounts(e){return e.filter(l=>!this.forbiddenAccounts.includes(l.id))},setQuery(e){tt.debounce(()=>{this.query=e},300)()},cleanQuery(){this.query=""}},watch:{selectedAccount(e){this.$emit("update",e)},user_id(){this.fetch()},forbiddenAccounts(){this.selectedAccount=null,this.query=""}},computed:{filteredAccounts(){return this.filterAccounts(this.options)}},mounted(){this.user_id&&this.fetch()}};function Dl(e,l,t,n,a,i){return we(),Pe(_t,{"no-filter":"",modelValue:a.selectedAccount,"onUpdate:modelValue":l[0]||(l[0]=f=>a.selectedAccount=f),"search-input":a.query,items:i.filteredAccounts,"item-title":"name","return-object":"",label:"Account",disabled:!t.user_id},null,8,["modelValue","search-input","items","disabled"])}const St=be(Tl,[["render",Dl]]),Bl=async(e,l,t=null)=>{const n={offset:e,limit:l};return t&&(n.query=t),await Le.get("/users",{params:n})},Ml=rt("users",{state:()=>({total:0,page:1,perPage:10}),actions:{async fetchUsers(e=null){var t;const l=(this.page-1)*this.perPage;try{const{data:n}=await Bl(l,this.perPage,e);return n}catch(n){return Me().reportError(`Failed to get users: ${(t=n.response)==null?void 0:t.status}`),{data:[],total:0}}},async search(e){const{data:l}=await lt().withLoader(async()=>await this.fetchUsers(e));return l}}}),Ul={setup(){return{users:Ml()}},data(){return{query:"",selected:null,options:[]}},methods:{async fetch(){const e=await this.users.search(this.query);this.options=e},setQuery(e){tt.debounce(()=>{this.query=e},300)()}},watch:{selected(e,l){this.$emit("update",l)}},mounted(){this.fetch()}};function Rl(e,l,t,n,a,i){return we(),Pe(_t,M(e.$attrs,{"no-filter":"",modelValue:a.selected,"onUpdate:modelValue":l[0]||(l[0]=f=>a.selected=f),"onUpdate:search":i.setQuery,items:a.options,"item-title":"email","return-object":"",label:"User"}),null,16,["modelValue","onUpdate:search","items"])}const Ll=be(Ul,[["render",Rl]]),El={setup(){return{auth:Ee()}},props:{isUserDisabled:{type:Boolean,required:!1,default:!0},forbiddenAccounts:{type:Array,required:!1,default:()=>[]}},data(){return{user:null,account:null}},computed:{},watch:{user(){this.account=null},forbiddenAccounts(){var e;((e=this.user)==null?void 0:e.id)===this.auth.user.id&&(this.account=null)},account(e){this.$emit("update",e)}}};function Ol(e,l,t,n,a,i){const f=Ll,u=St;return we(),Pe(ht,null,{default:z(()=>[r(Re,null,{default:z(()=>[r(f,{modelValue:a.user,"onUpdate:modelValue":l[0]||(l[0]=o=>a.user=o),disabled:t.isUserDisabled},null,8,["modelValue","disabled"])]),_:1}),r(Re,null,{default:z(()=>{var o;return[r(u,M(e.$attrs,{modelValue:a.account,"onUpdate:modelValue":l[1]||(l[1]=v=>a.account=v),user_id:(o=a.user)==null?void 0:o.id,forbiddenAccounts:t.forbiddenAccounts}),null,16,["modelValue","user_id","forbiddenAccounts"])]}),_:1})]),_:1})}const $l=be(El,[["render",Ol]]),Kl=async e=>await Le.post("/transactions",e),ql=rt("transactions",{state:()=>({total:0,page:1,perPage:10,transactions:[]}),actions:{async withLoader(e){return await lt().withLoader(e)},async setPage(e){this.page=e,await this.getTransactions()},async _getTransactions(e={}){var l;try{const t=(this.page-1)*this.perPage,{data:n}=await Le.get("/transactions/my",{params:{limit:this.perPage,offset:t,...e}});return n}catch(t){Me().reportError(`Failed to get transactions: ${(l=t.response)==null?void 0:l.status}`)}},async getTransactions(){const e=await this.withLoader(async()=>await this._getTransactions());this.transactions=e.data,this.total=e.total},async searchTransactions(e){return(await this.withLoader(async()=>this._getTransactions(e))).data},async create(e){return await this.withLoader(async()=>{try{const{data:l}=await Kl(e);this.transactions.length<this.perPage&&this.page===1?this.transactions.unshift(l):await this.getTransactions()}catch(l){Me().reportError(`Failed to create transaction: ${l.message}`)}})}}}),Hl={setup(){return{transactions:ql(),auth:Ee(),v$:Zt()}},data(){return{sender:null,recipient:null,amount:0}},validations(){return{sender:{required:De},recipient:{required:De},amount:{required:De,minValue:Jt(10)}}},computed:{forbiddenAccounts(){var e;return this.sender?[(e=this.sender)==null?void 0:e.id]:[]},isAmountActive(){return this.sender&&this.recipient},isUserDisabled(){return!this.sender}},methods:{close(){this.$emit("close")},submit(){var l;const e={sender:this.sender.id,recipient:(l=this.recipient)==null?void 0:l.id,amount:parseFloat(this.amount)};console.log(e),this.transactions.create(e)},setRecipient(e){this.recipient=e}},watch:{sender(){this.recipient=null},recipient(e){console.log("form",e)}}};function Nl(e,l,t,n,a,i){const f=St,u=$l,o=Tt;return we(),Pe(dt,null,{default:z(()=>[r(el,null,{default:z(()=>[Ie(" Transaction Form ")]),_:1}),r(tl,null,{default:z(()=>[r(ll,null,{default:z(()=>[r(dl,null,{default:z(()=>[r(f,{modelValue:a.sender,"onUpdate:modelValue":l[0]||(l[0]=v=>a.sender=v),user_id:n.auth.user.id,onInput:n.v$.sender.$touch,onBlur:n.v$.sender.$touch,"error-messages":n.v$.sender.$errors.map(v=>v.$message)},null,8,["modelValue","user_id","onInput","onBlur","error-messages"]),r(u,{modelValue:a.recipient,"onUpdate:modelValue":l[1]||(l[1]=v=>a.recipient=v),forbiddenAccounts:i.forbiddenAccounts,isUserDisabled:i.isUserDisabled,onInput:n.v$.recipient.$touch,onBlur:n.v$.recipient.$touch,"error-messages":n.v$.recipient.$errors.map(v=>v.$message)},null,8,["modelValue","forbiddenAccounts","isUserDisabled","onInput","onBlur","error-messages"]),r(pe,{label:"Amount",modelValue:a.amount,"onUpdate:modelValue":l[2]||(l[2]=v=>a.amount=v),type:"number",disabled:!i.isAmountActive,onInput:n.v$.amount.$touch,onBlur:n.v$.amount.$touch,"error-messages":n.v$.amount.$errors.map(v=>v.$message)},null,8,["modelValue","disabled","onInput","onBlur","error-messages"])]),_:1})]),_:1})]),_:1}),r(nl,null,{default:z(()=>[r(o,{onCancel:i.close,onSubmit:i.submit},null,8,["onCancel","onSubmit"])]),_:1})]),_:1})}const jl=be(Hl,[["render",Nl]]),zl={setup(){return{auth:Ee()}},data(){return{dialog:!1}}},Gl={key:0};function Ql(e,l,t,n,a,i){const f=jl;return n.auth.loggedIn?(we(),Qt("div",Gl,[r(cl,M(e.$attrs,{onClick:l[0]||(l[0]=u=>a.dialog=!a.dialog)}),{default:z(()=>[Wt(e.$slots,"btn_text",{},()=>[Ie(" Make Transfer ")])]),_:3},16),r(Dt,{modelValue:a.dialog,"onUpdate:modelValue":l[2]||(l[2]=u=>a.dialog=u)},{default:z(({isActive:u})=>[r(ht,null,{default:z(()=>[r(Re,{"offset-md":"4",md:"4"},{default:z(()=>[r(dt,null,{default:z(()=>[r(f,{onClose:l[1]||(l[1]=o=>a.dialog=!a.dialog)})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):Xt("",!0)}const nn=be(zl,[["render",Ql]]);export{nn as _,ql as u};
