import{u as ye,a as ne,c as Me}from"./index.CJeuY9gg.js";import{W as L,ah as se,c as i,r as re,R as F,as as ge,a4 as P,o as he,ae as pe,aY as He,au as A,ad as De,I as Oe,J as Fe,e as be,_ as Q,t as w,L as U,A as z,z as n,B as oe,M as W,v as Y,l as je,Z as N,Y as ie,a7 as q,a2 as ue,a1 as _e,a5 as Ue,ap as We,H as K,$ as Se,at as Ze,F as Ke,aZ as Ye,P as xe,Q as Ve,y as le,x as qe,X as Je,a0 as Xe,O as Qe,aJ as Ge}from"./entry.9zux7mMk.js";import{u as et,a as ke,V as J,m as tt,c as Ie,d as Te,i as at,B as lt,D as Be,E as Ce,N as ot,j,K as nt,L as st,b as rt,k as it,P as ut,Q as ct,f as dt,C as vt,g as mt,l as ft,T as yt,U as gt,h as ht,I as pt}from"./index.CcSNAF8Z.js";import{u as $e,V as bt}from"./VDivider.C9dgr6hG.js";import{m as Z,a as G,u as E}from"./VGrid.B_CvW7IJ.js";import{V as _t}from"./VSpacer.Bb9p1AR0.js";const X=Symbol.for("vuetify:layout"),Pe=Symbol.for("vuetify:layout-item"),me=1e3,St=L({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),xt=L({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Vt(){const e=se(X);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function kt(e){const s=se(X);if(!s)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${De()}`,a=ge("useLayoutItem");pe(Pe,{id:t});const l=P(!1);Oe(()=>l.value=!0),Fe(()=>l.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:r}=s.register(a,{...e,active:i(()=>l.value?!1:e.active.value),id:t});return be(()=>s.unregister(t)),{layoutItemStyles:o,layoutRect:s.layoutRect,layoutItemScrimStyles:r}}const It=(e,s,t,a)=>{let l={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...l}}];for(const r of e){const u=s.get(r),y=t.get(r),g=a.get(r);if(!u||!y||!g)continue;const c={...l,[u.value]:parseInt(l[u.value],10)+(g.value?parseInt(y.value,10):0)};o.push({id:r,layer:c}),l=c}return o};function Tt(e){const s=se(X,null),t=i(()=>s?s.rootZIndex.value-100:me),a=re([]),l=F(new Map),o=F(new Map),r=F(new Map),u=F(new Map),y=F(new Map),{resizeRef:g,contentRect:c}=et(),k=i(()=>{const f=new Map,S=e.overlaps??[];for(const d of S.filter(b=>b.includes(":"))){const[b,m]=d.split(":");if(!a.value.includes(b)||!a.value.includes(m))continue;const $=l.get(b),R=l.get(m),H=o.get(b),D=o.get(m);!$||!R||!H||!D||(f.set(m,{position:$.value,amount:parseInt(H.value,10)}),f.set(b,{position:R.value,amount:-parseInt(D.value,10)}))}return f}),p=i(()=>{const f=[...new Set([...r.values()].map(d=>d.value))].sort((d,b)=>d-b),S=[];for(const d of f){const b=a.value.filter(m=>{var $;return(($=r.get(m))==null?void 0:$.value)===d});S.push(...b)}return It(S,l,o,u)}),h=i(()=>!Array.from(y.values()).some(f=>f.value)),_=i(()=>p.value[p.value.length-1].layer),I=i(()=>({"--v-layout-left":A(_.value.left),"--v-layout-right":A(_.value.right),"--v-layout-top":A(_.value.top),"--v-layout-bottom":A(_.value.bottom),...h.value?void 0:{transition:"none"}})),V=i(()=>p.value.slice(1).map((f,S)=>{let{id:d}=f;const{layer:b}=p.value[S],m=o.get(d),$=l.get(d);return{id:d,...b,size:Number(m.value),position:$.value}})),v=f=>V.value.find(S=>S.id===f),x=ge("createLayout"),T=P(!1);he(()=>{T.value=!0}),pe(X,{register:(f,S)=>{let{id:d,order:b,position:m,layoutSize:$,elementSize:R,active:H,disableTransitions:D,absolute:Re}=S;r.set(d,b),l.set(d,m),o.set(d,$),u.set(d,H),D&&y.set(d,D);const ce=He(Pe,x==null?void 0:x.vnode).indexOf(f);ce>-1?a.value.splice(ce,0,d):a.value.push(d);const de=i(()=>V.value.findIndex(O=>O.id===d)),ee=i(()=>t.value+p.value.length*2-de.value*2),ze=i(()=>{const O=m.value==="left"||m.value==="right",te=m.value==="right",Ee=m.value==="bottom",ve={[m.value]:0,zIndex:ee.value,transform:`translate${O?"X":"Y"}(${(H.value?0:-110)*(te||Ee?-1:1)}%)`,position:Re.value||t.value!==me?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!T.value)return ve;const C=V.value[de.value];if(!C)throw new Error(`[Vuetify] Could not find layout item "${d}"`);const ae=k.value.get(d);return ae&&(C[ae.position]+=ae.amount),{...ve,height:O?`calc(100% - ${C.top}px - ${C.bottom}px)`:R.value?`${R.value}px`:void 0,left:te?void 0:`${C.left}px`,right:te?`${C.right}px`:void 0,top:m.value!=="bottom"?`${C.top}px`:void 0,bottom:m.value!=="top"?`${C.bottom}px`:void 0,width:O?R.value?`${R.value}px`:void 0:`calc(100% - ${C.left}px - ${C.right}px)`}}),Ne=i(()=>({zIndex:ee.value-1}));return{layoutItemStyles:ze,layoutItemScrimStyles:Ne,zIndex:ee}},unregister:f=>{r.delete(f),l.delete(f),o.delete(f),u.delete(f),y.delete(f),a.value=a.value.filter(S=>S!==f)},mainRect:_,mainStyles:I,getLayoutItem:v,items:V,layoutRect:c,rootZIndex:t});const B=i(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),M=i(()=>({zIndex:s?t.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:B,layoutStyles:M,getLayoutItem:v,items:V,layoutRect:c,layoutRef:g}}const Bt={setup(){return{auth:ye()}},methods:{async performLogout(){await this.auth.logout()}}};function Ct(e,s,t,a,l,o){return w(),U(J,W({color:"red"},e.$attrs,{onClick:o.performLogout}),{default:z(()=>[n(ke,null,{default:z(()=>[oe("mdi-logout")]),_:1})]),_:1},16,["onClick"])}const $t=Q(Bt,[["render",Ct]]),Pt={__name:"controller",setup(e){const s=je(),t=new WebSocket(`ws://${s.public.apiHost}/notifications/ws`),a=ne();return t.onopen=l=>{console.log("WebSocket connection opened:",l)},t.onmessage=l=>{let o=JSON.parse(l.data);a.reportInfo(o.message)},t.onclose=l=>{console.log("WebSocket connection closed:",l)},t.onerror=l=>{console.error("WebSocket error:",l)},(l,o)=>(w(),Y("div"))}},we=L({text:String,...Z(),...G()},"VToolbarTitle"),Le=N()({name:"VToolbarTitle",props:we(),setup(e,s){let{slots:t}=s;return E(()=>{const a=!!(t.default||t.text||e.text);return n(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[a&&n("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),wt=[null,"prominent","default","comfortable","compact"],Ae=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>wt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...tt(),...Z(),...Ie(),...Te(),...G({tag:"header"}),...ie()},"VToolbar"),fe=N()({name:"VToolbar",props:Ae(),setup(e,s){var h;let{slots:t}=s;const{backgroundColorClasses:a,backgroundColorStyles:l}=at(q(e,"color")),{borderClasses:o}=lt(e),{elevationClasses:r}=Be(e),{roundedClasses:u}=Ce(e),{themeClasses:y}=ue(e),{rtlClasses:g}=_e(),c=P(!!(e.extended||(h=t.extension)!=null&&h.call(t))),k=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=i(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ue({VBtn:{variant:"text"}}),E(()=>{var v;const _=!!(e.title||t.title),I=!!(t.image||e.image),V=(v=t.extension)==null?void 0:v.call(t);return c.value=!!(e.extended||V),n(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,o.value,r.value,u.value,y.value,g.value,e.class],style:[l.value,e.style]},{default:()=>[I&&n("div",{key:"image",class:"v-toolbar__image"},[t.image?n(j,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):n(ot,{key:"image-img",cover:!0,src:e.image},null)]),n(j,{defaults:{VTabs:{height:A(k.value)}}},{default:()=>{var x,T,B;return[n("div",{class:"v-toolbar__content",style:{height:A(k.value)}},[t.prepend&&n("div",{class:"v-toolbar__prepend"},[(x=t.prepend)==null?void 0:x.call(t)]),_&&n(Le,{key:"title",text:e.title},{text:t.title}),(T=t.default)==null?void 0:T.call(t),t.append&&n("div",{class:"v-toolbar__append"},[(B=t.append)==null?void 0:B.call(t)])])]}}),n(j,{defaults:{VTabs:{height:A(p.value)}}},{default:()=>[n(nt,null,{default:()=>[c.value&&n("div",{class:"v-toolbar__extension",style:{height:A(p.value)}},[V])]})]})]})}),{contentHeight:k,extensionHeight:p}}}),Lt=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function At(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=s;let a=0;const l=re(null),o=P(0),r=P(0),u=P(0),y=P(!1),g=P(!1),c=i(()=>Number(e.scrollThreshold)),k=i(()=>We((c.value-o.value)/c.value||0)),p=()=>{const h=l.value;!h||t&&!t.value||(a=o.value,o.value="window"in h?h.pageYOffset:h.scrollTop,g.value=o.value<a,u.value=Math.abs(o.value-c.value))};return K(g,()=>{r.value=r.value||o.value}),K(y,()=>{r.value=0}),he(()=>{K(()=>e.scrollTarget,h=>{var I;const _=h?document.querySelector(h):window;_&&_!==l.value&&((I=l.value)==null||I.removeEventListener("scroll",p),l.value=_,l.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),be(()=>{var h;(h=l.value)==null||h.removeEventListener("scroll",p)}),t&&K(t,p,{immediate:!0}),{scrollThreshold:c,currentScroll:o,currentThreshold:u,isScrollActive:y,scrollRatio:k,isScrollingUp:g,savedScroll:r}}const Rt=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Ae(),...xt(),...Lt(),height:{type:[Number,String],default:64}},"VAppBar"),zt=N()({name:"VAppBar",props:Rt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const a=re(),l=Se(e,"modelValue"),o=i(()=>{var x;const v=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),r=i(()=>{const v=o.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!l.value}),{currentScroll:u,scrollThreshold:y,isScrollingUp:g,scrollRatio:c}=At(e,{canScroll:r}),k=i(()=>e.collapse||o.value.collapse&&(o.value.inverted?c.value>0:c.value===0)),p=i(()=>e.flat||o.value.elevate&&(o.value.inverted?u.value>0:u.value===0)),h=i(()=>o.value.fadeImage?o.value.inverted?1-c.value:c.value:void 0),_=i(()=>{var T,B;if(o.value.hide&&o.value.inverted)return 0;const v=((T=a.value)==null?void 0:T.contentHeight)??0,x=((B=a.value)==null?void 0:B.extensionHeight)??0;return v+x});Ze(i(()=>!!e.scrollBehavior),()=>{Ke(()=>{o.value.hide?o.value.inverted?l.value=u.value>y.value:l.value=g.value||u.value<y.value:l.value=!0})});const{ssrBootStyles:I}=$e(),{layoutItemStyles:V}=kt({id:e.name,order:i(()=>parseInt(e.order,10)),position:q(e,"location"),layoutSize:_,elementSize:P(void 0),active:l,absolute:q(e,"absolute")});return E(()=>{const v=fe.filterProps(e);return n(fe,W({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...V.value,"--v-toolbar-image-opacity":h.value,height:void 0,...I.value},e.style]},v,{collapse:k.value,flat:p.value}),t)}),{}}}),Nt=N()({name:"VAppBarTitle",props:we(),setup(e,s){let{slots:t}=s;return E(()=>n(Le,W(e,{class:"v-app-bar-title"}),t)),{}}}),Et={setup(){const e=ye(),s=Me();return{auth:e,loader:s}},data(){return{authenticatedLinks:[{title:"Accounts",to:"/accounts"},{title:"Transactions",to:"/transactions"}]}}};function Mt(e,s,t,a,l,o){const r=$t,u=Pt;return w(),U(zt,null,Ye({default:z(()=>[n(Nt,null,{default:z(()=>[n(J,{text:"",nuxt:"",to:"/"},{default:z(()=>[oe("FakeBank")]),_:1})]),_:1}),n(_t)]),_:2},[a.auth.loggedIn&&!a.loader.isLoading?{name:"append",fn:z(()=>{var y,g;return[(w(!0),Y(xe,null,Ve(l.authenticatedLinks,c=>(w(),U(J,{key:c.title,to:c.to,nuxt:"",text:"",class:"mr-1"},{default:z(()=>[oe(le(c.title),1)]),_:2},1032,["to"]))),128)),n(bt,{vertical:"",inset:"",class:"mr-4"}),qe("span",null,le((y=a.auth.user)==null?void 0:y.first_name)+" "+le((g=a.auth.user)==null?void 0:g.last_name),1),n(r),n(u)]}),key:"0"}:void 0]),1024)}const oa=Q(Et,[["render",Mt]]),Ht=st("v-alert-title"),Dt=["success","info","warning","error"],Ot=L({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Je,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Dt.includes(e)},...Z(),...rt(),...it(),...Ie(),...ut(),...ct(),...Te(),...G(),...ie(),...dt({variant:"flat"})},"VAlert"),Ft=N()({name:"VAlert",props:Ot(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{emit:t,slots:a}=s;const l=Se(e,"modelValue"),o=i(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),r=i(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:u}=ue(e),{colorClasses:y,colorStyles:g,variantClasses:c}=vt(r),{densityClasses:k}=mt(e),{dimensionStyles:p}=ft(e),{elevationClasses:h}=Be(e),{locationStyles:_}=yt(e),{positionClasses:I}=gt(e),{roundedClasses:V}=Ce(e),{textColorClasses:v,textColorStyles:x}=ht(q(e,"borderColor")),{t:T}=Xe(),B=i(()=>({"aria-label":T(e.closeLabel),onClick(M){l.value=!1,t("click:close",M)}}));return()=>{const M=!!(a.prepend||o.value),f=!!(a.title||e.title),S=!!(a.close||e.closable);return l.value&&n(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},u.value,y.value,k.value,h.value,I.value,V.value,c.value,e.class],style:[g.value,p.value,_.value,e.style],role:"alert"},{default:()=>{var d,b;return[pt(!1,"v-alert"),e.border&&n("div",{key:"border",class:["v-alert__border",v.value],style:x.value},null),M&&n("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?n(j,{key:"prepend-defaults",disabled:!o.value,defaults:{VIcon:{density:e.density,icon:o.value,size:e.prominent?44:28}}},a.prepend):n(ke,{key:"prepend-icon",density:e.density,icon:o.value,size:e.prominent?44:28},null)]),n("div",{class:"v-alert__content"},[f&&n(Ht,{key:"title"},{default:()=>{var m;return[((m=a.title)==null?void 0:m.call(a))??e.title]}}),((d=a.text)==null?void 0:d.call(a))??e.text,(b=a.default)==null?void 0:b.call(a)]),a.append&&n("div",{key:"append",class:"v-alert__append"},[a.append()]),S&&n("div",{key:"close",class:"v-alert__close"},[a.close?n(j,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var m;return[(m=a.close)==null?void 0:m.call(a,{props:B.value})]}}):n(J,W({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},B.value),null)])]}})}}}),jt={setup(){return{alertStore:ne()}},props:{alert:{type:Object,required:!0}},data(){return{active:!0}},mounted(){setTimeout(()=>{this.active=!1,this.alertStore.removeAlert(this.alert.id)},5e3)}};function Ut(e,s,t,a,l,o){return Qe((w(),U(Ft,W(e.$attrs,{closable:!0}),null,16)),[[Ge,l.active]])}const Wt=Q(jt,[["render",Ut]]),Zt={setup(){return{alertStore:ne()}},computed:{alerts(){return this.alertStore.alerts}}},Kt={class:"alerts_container ma-5"};function Yt(e,s,t,a,l,o){const r=Wt;return w(),Y("div",Kt,[(w(!0),Y(xe,null,Ve(o.alerts,u=>(w(),U(r,{type:u.type,text:u.text,key:u.id,class:"mt-2",alert:u},null,8,["type","text","alert"]))),128))])}const na=Q(Zt,[["render",Yt],["__scopeId","data-v-4ff46a59"]]),qt=L({...Z(),...St({fullHeight:!0}),...ie()},"VApp"),sa=N()({name:"VApp",props:qt(),setup(e,s){let{slots:t}=s;const a=ue(e),{layoutClasses:l,getLayoutItem:o,items:r,layoutRef:u}=Tt(e),{rtlClasses:y}=_e();return E(()=>{var g;return n("div",{ref:u,class:["v-application",a.themeClasses.value,l.value,y.value,e.class],style:[e.style]},[n("div",{class:"v-application__wrap"},[(g=t.default)==null?void 0:g.call(t)])])}),{getLayoutItem:o,items:r,theme:a}}}),Jt=L({scrollable:Boolean,...Z(),...G({tag:"main"})},"VMain"),ra=N()({name:"VMain",props:Jt(),setup(e,s){let{slots:t}=s;const{mainStyles:a}=Vt(),{ssrBootStyles:l}=$e();return E(()=>n(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,l.value,e.style]},{default:()=>{var o,r;return[e.scrollable?n("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(r=t.default)==null?void 0:r.call(t)]}})),{}}});export{sa as V,oa as _,ra as a,na as b};
